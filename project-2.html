<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Walkable Project Grid</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: sans-serif;
      background: #f5f5f5;
    }
    #map {
      position: relative;
      width: 1512px;
      height: 3000px;
      background: repeating-linear-gradient(#e0f7ff, #e0f7ff 99px, #d0e8f0 100px);
    }
    .card {
      position: absolute;
      background: #ffffff;
      border: 2px solid #ccc;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    #player {
      position: fixed;
      width: 20px;
      height: 20px;
      background: royalblue;
      border-radius: 50%;
      z-index: 1000;
      left: 100px;
      top: 50vh;
      transform: translateY(-50%);
    }
    .teleport {
      position: absolute;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: mediumseagreen;
      border: 3px dashed white;
    }
  </style>
</head>
<body>
<div id="map">
  <div class="card" style="left: 187px; top: 708px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 213px; top: 736px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 187px; top: 1344px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 213px; top: 1372px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 187px; top: 1980px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 213px; top: 2008px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 596px; top: 708px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 622px; top: 736px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 596px; top: 1344px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 622px; top: 1372px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 596px; top: 1980px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 622px; top: 2008px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 1005px; top: 708px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 1031px; top: 736px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 1005px; top: 1344px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 1031px; top: 1372px; width: 269px; height: 262px;"></div>
  <div class="card" style="left: 1005px; top: 1980px; width: 320px; height: 418px;"></div>
  <div class="card" style="left: 1031px; top: 2008px; width: 269px; height: 262px;"></div>
</div>
<div id="player"></div>

<script>
  const player = document.getElementById("player");
  const map = document.getElementById("map");
  const speed = 6;
  let pos = {{ x: 100, y: 100 }};
  const keys = {{}};

  document.addEventListener('keydown', e => keys[e.key] = true);
  document.addEventListener('keyup', e => keys[e.key] = false);

  function checkCollision(newX, newY) {{
    const playerRect = {{ left: newX, top: newY, right: newX+20, bottom: newY+20 }};
    const blocks = document.querySelectorAll('.card');
    for (let block of blocks) {{
      const rect = block.getBoundingClientRect();
      const mapRect = map.getBoundingClientRect();
      const blockRect = {{
        left: rect.left - mapRect.left,
        top: rect.top - mapRect.top + window.scrollY,
        right: rect.right - mapRect.left,
        bottom: rect.bottom - mapRect.top + window.scrollY
      }};
      if (
        playerRect.right > blockRect.left &&
        playerRect.left < blockRect.right &&
        playerRect.bottom > blockRect.top &&
        playerRect.top < blockRect.bottom
      ) return true;
    }}
    return false;
  }}

  function movePlayer() {{
    let newX = pos.x;
    let newY = pos.y;
    if (keys['ArrowUp']) newY -= speed;
    if (keys['ArrowDown']) newY += speed;
    if (keys['ArrowLeft']) newX -= speed;
    if (keys['ArrowRight']) newX += speed;

    if (!checkCollision(newX, newY)) {{
      pos.x = newX;
      pos.y = newY;
    }}

    map.scrollTo({ top: pos.y - window.innerHeight / 2 });

    requestAnimationFrame(movePlayer);
  }}

  movePlayer();
</script>
</body>
</html>
